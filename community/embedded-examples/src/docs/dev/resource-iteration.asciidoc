[[tutorials-java-embedded-resource-iteration]]

Managing resources when using long running transactions
=======================================================

It is necessary to always open a transaction when accessing the database. Inside a long running transaction it is good practice to ensure
that any ResourceIterators obtained inside the transaction are closed as early as possible. This is either achieved by just exhausting
the iterator or by explicitly calling its close method.

What follows is an example of how to work with a ResourceIterator. The example is taken from <<tutorials-java-embedded-new-index>>.

[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithNewIndexing.java
classifier=sources
tag=findUsers
----
